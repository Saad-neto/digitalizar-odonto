# Guia de Deploy - Cloudflare Pages

## ðŸš¨ Problema Comum: Cache do Cloudflare

O Cloudflare Pages Ã s vezes usa cache antigo e nÃ£o rebuild corretamente.

## âœ… SoluÃ§Ã£o Definitiva

### OpÃ§Ã£o 1: ForÃ§ar Rebuild (AutomÃ¡tico)
```bash
git commit --allow-empty -m "chore: forÃ§ar rebuild"
git push origin main
```

### OpÃ§Ã£o 2: Deploy Manual no Painel
1. Acesse: https://dash.cloudflare.com
2. Workers & Pages â†’ Seu projeto
3. Deployments â†’ **"Retry deployment"**
4. Ou crie um novo deployment manual

### OpÃ§Ã£o 3: Purge Cache
1. No painel do Cloudflare
2. Caching â†’ Configuration
3. **"Purge Everything"**

## ðŸ“Š Workflow Recomendado

```
1. Fazer alteraÃ§Ãµes localmente
   â†“
2. Testar em http://95.217.158.112:5173
   â†“
3. UsuÃ¡rio APROVA
   â†“
4. git add + git commit + git push
   â†“
5. Aguardar 3-5 minutos
   â†“
6. Verificar URL Ãºnica do deploy (ex: xxxxx.digitalizar-odonto.pages.dev)
   â†“
7. Se OK, testar em digitalizar-odonto.pages.dev com Ctrl+Shift+R
```

## ðŸ”§ Prevenir Cache no Navegador

Adicionar cache busting no index.html:
```html
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
```

## ðŸŽ¯ URLs de Teste

- **ProduÃ§Ã£o:** https://digitalizar-odonto.pages.dev
- **Deploy Ãºnico:** https://[commit-hash].digitalizar-odonto.pages.dev
- **Local:** http://95.217.158.112:5173

## âš¡ Comandos RÃ¡pidos

```bash
# Verificar Ãºltimo commit
git log --oneline -1

# Ver diff do Ãºltimo commit
git show HEAD

# ForÃ§ar rebuild
git commit --allow-empty -m "chore: rebuild" && git push

# Testar build local
npm run build && ls -lh dist/
```
